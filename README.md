# –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –§–∏–ª—å–º–æ–≤

## –û–ø–∏—Å–∞–Ω–∏–µ –ü—Ä–æ–µ–∫—Ç–∞

–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –¥–ª—è —Å–±–æ—Ä–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞—Ä—É–±–µ–∂–Ω—ã—Ö —Ñ–∏–ª—å–º–∞—Ö, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ–º—ã—Ö –≤ –∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä–∞—Ö –ü–µ—Ä–º–∏, –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ ICS-–∫–∞–ª–µ–Ω–¥–∞—Ä—è. –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å ‚Äî –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã—Ö –∫–∏–Ω–æ–ø–æ–∫–∞–∑–æ–≤, –æ–±–æ–≥–∞—â–µ–Ω–Ω—ã—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ —Ä–µ–π—Ç–∏–Ω–≥–∏, —Ç—Ä–µ–π–ª–µ—Ä—ã –∏ –æ–ø–∏—Å–∞–Ω–∏—è.

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

*   **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö:** –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Å–∫—Ä–µ–π–ø–∏–Ω–≥ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π —Ñ–∏–ª—å–º–æ–≤ —Å `afisha.ru` (–¥–ª—è —Ä–µ–≥–∏–æ–Ω–∞ –ü–µ—Ä–º—å).
*   **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–±–æ—Ä —Ç–æ–ª—å–∫–æ –∑–∞—Ä—É–±–µ–∂–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤, –∏—Å–∫–ª—é—á–∞—è —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ –∏ —Å–æ–≤–µ—Ç—Å–∫–∏–µ.
*   **–û–±–æ–≥–∞—â–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ API (Kinopoisk.dev, OMDb, YouTube) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ (IMDb, –ö–∏–Ω–æ–ø–æ–∏—Å–∫), –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π, —Ç—Ä–µ–π–ª–µ—Ä–æ–≤, –ø–æ—Å—Ç–µ—Ä–æ–≤ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
*   **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è:** –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ, –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ–≥–æ ICS-—Ñ–∞–π–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –ª—é–±–æ–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å (Google Calendar, Outlook, Apple Calendar –∏ —Ç.–¥.).
*   **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–æ—Ç–ª–∞–¥–æ—á–Ω—ã–π):** –ü—Ä–æ—Å—Ç–æ–π HTML-—Ñ–∞–π–ª –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è –∏ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

## –ú–µ—Ç–æ–¥—ã –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

–ü—Ä–æ–µ–∫—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ —á–µ—Ä–µ–∑ GitHub Actions:

1.  **–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö:** –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ) –∏–ª–∏ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å GitHub Actions. –û–Ω –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è:
    *   **–°–∫—Ä–µ–π–ø–∏–Ω–≥:** –°–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∏–ª—å–º–∞—Ö –∏ —Å–µ–∞–Ω—Å–∞—Ö —Å –≤–µ–±-—Å–∞–π—Ç–∞ `afisha.ru`.
    *   **–ü–∞—Ä—Å–∏–Ω–≥:** –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ HTML-—Å—Ç—Ä–∞–Ω–∏—Ü.
    *   **–û–±–æ–≥–∞—â–µ–Ω–∏–µ:** –î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ —Ñ–∏–ª—å–º–∞—Ö –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.
    *   **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–π SQLite –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
2.  **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è –∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏:** –ü–æ—Å–ª–µ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç:
    *   **ICS-—Ñ–∞–π–ª:** –§–∞–π–ª `docs/calendar.ics` —Å —Å–æ–±—ã—Ç–∏—è–º–∏ –¥–ª—è –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –∑–∞—Ä—É–±–µ–∂–Ω—ã—Ö –∫–∏–Ω–æ–ø–æ–∫–∞–∑–æ–≤.
    *   **HTML-–∏–Ω–¥–µ–∫—Å:** –§–∞–π–ª `docs/index.html` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—è –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö.
    *   **–î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —Ñ–∞–π–ª:** `docs/diag.txt` —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –ª–æ–≥–∞–º–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
3.  **–ü—É–±–ª–∏–∫–∞—Ü–∏—è:** –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –¥–µ–ª–∞—è ICS-–∫–∞–ª–µ–Ω–¥–∞—Ä—å –¥–æ—Å—Ç—É–ø–Ω—ã–º –ø–æ –ø—Ä—è–º–æ–π —Å—Å—ã–ª–∫–µ.

**–†–∞–±–æ—á–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã GitHub:**

*   [`test-on-pr.yml`](.github/workflows/test-on-pr.yml:0): –ó–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç—ã –∏ —Å–∫—Ä–µ–π–ø–µ—Ä –ø—Ä–∏ –∫–∞–∂–¥–æ–º Pull Request –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏.
*   [`daily-update.yml`](.github/workflows/daily-update.yml:0): –ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—è.

## –ê–ª–≥–æ—Ä–∏—Ç–º—ã –û—Ç–±–æ—Ä–∞ –§–∏–ª—å–º–æ–≤ –∏ –°–µ–∞–Ω—Å–æ–≤

### 1. –û—Ç–±–æ—Ä –§–∏–ª—å–º–æ–≤

*   **–ù–∞—á–∞–ª—å–Ω—ã–π —Å–±–æ—Ä:** –°–∏—Å—Ç–µ–º–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç —Å–∫—Ä–µ–π–ø–∏–Ω–≥ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä–æ–≤ –Ω–∞ `afisha.ru` (–¥–ª—è –ü–µ—Ä–º–∏), —Å–æ–±–∏—Ä–∞—è –¥–æ `MOVIE_SCRAPER_MAX_FILMS` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50) —Ñ–∏–ª—å–º–æ–≤.
*   **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–µ:** –ö–∞–∂–¥—ã–π –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–π —Ñ–∏–ª—å–º –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ —Å—Ç—Ä–∞–Ω—É –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞. –§–∏–ª—å–º—ã, –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–Ω—ã–µ –≤ –†–æ—Å—Å–∏–∏ –∏–ª–∏ –°–°–°–†, –∏—Å–∫–ª—é—á–∞—é—Ç—Å—è. –≠—Ç–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ –ø–æ–ª—é `country` –≤ –æ–±—ä–µ–∫—Ç–µ `Film` (`Film.is_foreign` —Å–≤–æ–π—Å—Ç–≤–æ).
*   **–ù–∞–ª–∏—á–∏–µ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö —Å–µ–∞–Ω—Å–æ–≤:** –§–∏–ª—å–º –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –¥–ª—è –Ω–µ–≥–æ –Ω–∞–π–¥–µ–Ω —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏–π —Å–µ–∞–Ω—Å (–¥–∞—Ç–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–∞ —Ç–µ–∫—É—â–µ–π –¥–∞—Ç–µ).

### 2. –û–±–æ–≥–∞—â–µ–Ω–∏–µ –î–∞–Ω–Ω—ã—Ö –æ –§–∏–ª—å–º–∞—Ö

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ —Å–±–æ—Ä–∞, –¥–∞–Ω–Ω—ã–µ –æ –∫–∞–∂–¥–æ–º —Ñ–∏–ª—å–º–µ –æ–±–æ–≥–∞—â–∞—é—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:

*   **–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ —Ä–µ–π—Ç–∏–Ω–≥ –ö–∏–Ω–æ–ø–æ–∏—Å–∫–∞:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è API Kinopoisk.dev (`get_original_title_from_kp()`) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è —Ñ–∏–ª—å–º–∞ –∏ –µ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞ –Ω–∞ –ö–∏–Ω–æ–ø–æ–∏—Å–∫–µ. –ü–æ–∏—Å–∫ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –ø–æ —Ä—É—Å—Å–∫–æ–º—É –Ω–∞–∑–≤–∞–Ω–∏—é, —Å —É—á–µ—Ç–æ–º –≥–æ–¥–∞ –≤—ã–ø—É—Å–∫–∞ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏.
*   **–†–µ–π—Ç–∏–Ω–≥ IMDb:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è API OMDb (`get_imdb_rating_enhanced()`) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–π—Ç–∏–Ω–≥–∞ IMDb. –ü–æ–∏—Å–∫ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –∫–∞—Å–∫–∞–¥–Ω–æ: —Å–Ω–∞—á–∞–ª–∞ –ø–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º—É –Ω–∞–∑–≤–∞–Ω–∏—é (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ), –∑–∞—Ç–µ–º –ø–æ –æ—á–∏—â–µ–Ω–Ω–æ–º—É —Ä—É—Å—Å–∫–æ–º—É –Ω–∞–∑–≤–∞–Ω–∏—é.
*   **–¢—Ä–µ–π–ª–µ—Ä:** –°–Ω–∞—á–∞–ª–∞ —Å–∏—Å—Ç–µ–º–∞ –ø—ã—Ç–∞–µ—Ç—Å—è –Ω–∞–π—Ç–∏ —Å—Å—ã–ª–∫—É –Ω–∞ —Ç—Ä–µ–π–ª–µ—Ä –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `afisha.ru`. –ï—Å–ª–∏ —Ç—Ä–µ–π–ª–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è API YouTube (`find_trailer_youtube()`) –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ç—Ä–µ–π–ª–µ—Ä–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Ñ–∏–ª—å–º–∞ (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º—É –∏–ª–∏ —Ä—É—Å—Å–∫–æ–º—É) –∏ –≥–æ–¥—É –≤—ã–ø—É—Å–∫–∞.
*   **–ü–æ—Å—Ç–µ—Ä:** –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ—Å—Ç–µ—Ä–∞ —Ñ–∏–ª—å–º–∞ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã `afisha.ru`.
*   **–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞:** –ì–æ–¥ –≤—ã–ø—É—Å–∫–∞ —Ñ–∏–ª—å–º–∞ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã `afisha.ru` –∏–ª–∏ –∏–∑ –¥–∞–Ω–Ω—ã—Ö API.
*   **–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞:** –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –ø–æ–ø—ã—Ç–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ü–µ–Ω –Ω–∞ –±–∏–ª–µ—Ç—ã —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–µ–∞–Ω—Å–æ–≤ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ä–µ–¥–Ω–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏.
*   **–û—á–∏—Å—Ç–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏–π:** –§—É–Ω–∫—Ü–∏—è `clean_title_for_search()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ª–∏—à–Ω–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤ (–≥–æ–¥—ã –≤ —Å–∫–æ–±–∫–∞—Ö, —Å—É–±—Ç–∏—Ç—Ä—ã) –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏–π —Ñ–∏–ª—å–º–æ–≤, —á—Ç–æ–±—ã —É–ª—É—á—à–∏—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ –≤–æ –≤–Ω–µ—à–Ω–∏—Ö API.

### 3. –û—Ç–±–æ—Ä –°–µ–∞–Ω—Å–æ–≤

*   **–ü–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç:** –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∏–ª—å–º–∞ —Å–∏—Å—Ç–µ–º–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (`/prm/schedule_cinema_product/{slug}/`).
*   **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –±–ª–∏–∂–∞–π—à–µ–π –¥–∞—Ç—ã:** –§—É–Ω–∫—Ü–∏—è `parse_first_day_new()` –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –∫–∞–ª–µ–Ω–¥–∞—Ä—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–∞–º—É—é —Ä–∞–Ω–Ω—é—é –¥–æ—Å—Ç—É–ø–Ω—É—é –¥–∞—Ç—É —Å–µ–∞–Ω—Å–∞, –∫–æ—Ç–æ—Ä–∞—è –µ—â–µ –Ω–µ –Ω–∞—Å—Ç—É–ø–∏–ª–∞ (—Ç.–µ. `current_date >= today`). –ï—Å–ª–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–∞—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–∏—Å–∫–∞ –¥–∞—Ç –ø–æ —Ç–µ–∫—Å—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

## –ü—Ä–∏–Ω—Ü–∏–ø—ã –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –†–∞—Å–ø–∏—Å–∞–Ω–∏—è/–ö–∞–ª–µ–Ω–¥–∞—Ä—è

*   **–§–æ—Ä–º–∞—Ç:** –ö–∞–ª–µ–Ω–¥–∞—Ä—å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ iCalendar (.ics), —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —à–∏—Ä–æ–∫—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏.
*   **–°–æ–±—ã—Ç–∏—è:** –ö–∞–∂–¥–æ–º—É –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω–æ–º—É –∑–∞—Ä—É–±–µ–∂–Ω–æ–º—É —Ñ–∏–ª—å–º—É, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞–π–¥–µ–Ω –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏–π —Å–µ–∞–Ω—Å, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ.
*   **–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å:** –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–∞–ª–µ–Ω–¥–∞—Ä—è —è–≤–ª—è–µ—Ç—Å—è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º: –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ–º—É –≤—ã—Ö–æ–¥–Ω–æ–º—É ICS-—Ñ–∞–π–ª—É, —á—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.
*   **–ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è (`SUMMARY`):** –§–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ `üé¨ –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ (–í–æ–∑—Ä–∞—Å—Ç–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ)`.
*   **–û–ø–∏—Å–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è (`DESCRIPTION`):** –í–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è:
    *   –í–æ–∑—Ä–∞—Å—Ç–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ (–µ—Å–ª–∏ –µ—Å—Ç—å).
    *   –°—Ç—Ä–∞–Ω—É –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞.
    *   –†–µ–π—Ç–∏–Ω–≥–∏ IMDb –∏ –ö–∏–Ω–æ–ø–æ–∏—Å–∫–∞ (—Å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º –¥–æ –æ–¥–Ω–æ–≥–æ –∑–Ω–∞–∫–∞ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π).
    *   –ü—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω—É—é —Å—Ä–µ–¥–Ω—é—é —Ü–µ–Ω—É –±–∏–ª–µ—Ç–∞ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞).
    *   –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å—é–∂–µ—Ç–∞ (–¥–æ 300 —Å–∏–º–≤–æ–ª–æ–≤).
    *   –°—Å—ã–ª–∫–∏ –Ω–∞ —Ç—Ä–µ–π–ª–µ—Ä –∏ –ø–æ—Å—Ç–µ—Ä.
    *   –ü—Ä—è–º—É—é —Å—Å—ã–ª–∫—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ñ–∏–ª—å–º–∞ –Ω–∞ `afisha.ru` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
*   **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:** –°–æ–±—ã—Ç–∏—è –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ `foreign-film`, `cinema`, `perm`.
*   **–ü—Ä–∞–≤–∏–ª–æ –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏–π (30-–¥–Ω–µ–≤–Ω–æ–µ):** –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ –∏ —á–∞—Å—Ç—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π, —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –ø—Ä–∞–≤–∏–ª–æ –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è. –ï—Å–ª–∏ —Å–æ–±—ã—Ç–∏–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∏–ª—å–º–∞ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—É—é –¥–∞—Ç—É —É–∂–µ –±—ã–ª–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ –≤ —Ç–µ—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 30 –¥–Ω–µ–π, –æ–Ω–æ –Ω–µ –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–æ. –≠—Ç–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Ç–∞–±–ª–∏—Ü—É `published_events` –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ù—é–∞–Ω—Å—ã

*   **–Ø–∑—ã–∫ –∏ –°—Ä–µ–¥–∞:** Python 3.9+ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `asyncio` –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π.
*   **HTTP-–∫–ª–∏–µ–Ω—Ç:** `aiohttp` –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤.
*   **–ü–∞—Ä—Å–∏–Ω–≥ HTML:** `BeautifulSoup` —Å –ø–∞—Ä—Å–µ—Ä–æ–º `lxml` –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ HTML.
*   **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** `aiosqlite` –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å SQLite.
    *   –§–∞–π–ª –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: `data/movies.db` (–∏–ª–∏ `data/cache.sqlite` –≤ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏).
    *   –¢–∞–±–ª–∏—Ü—ã: `films` (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ñ–∏–ª—å–º–æ–≤), `screening_sessions` (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ–∞–Ω—Å–∞—Ö), `published_events` (–¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π –∏ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏).
    *   –ú–∏–≥—Ä–∞—Ü–∏–∏: –°–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –∏ –º–∏–≥—Ä–∞—Ü–∏–∏ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.
*   **–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö:** –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è Pydantic-–º–æ–¥–µ–ª–∏ (`movie_scraper.models.Film`, `movie_scraper.models.ScreeningSession`, `movie_scraper.models.PublishedEvent`, `movie_scraper.models.ScrapeResult`) –¥–ª—è —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏, –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏ —É–¥–æ–±–Ω–æ–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏.
*   **iCalendar:** –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `icalendar` –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ICS-—Ñ–∞–π–ª–æ–≤.
*   **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `movie_scraper.settings.Settings` (–Ω–∞ –±–∞–∑–µ Pydantic Settings), –ø–æ–∑–≤–æ–ª—è—è –ª–µ–≥–∫–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `MOVIE_SCRAPER_` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `MOVIE_SCRAPER_LOG_LEVEL=DEBUG`, `MOVIE_SCRAPER_RATE_LIMIT=2.0`).
*   **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–æ–¥—É–ª—å `logging` Python —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (—á–µ—Ä–µ–∑ `structlog` –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏) –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –æ—Ç–ª–∞–¥–∫–∏.

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –ö—Ä–∞–π–Ω–∏—Ö –°–ª—É—á–∞–µ–≤

*   **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ (Rate Limiting):**
    *   –ú–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∫ `afisha.ru` –∏ –≤–Ω–µ—à–Ω–∏–º API –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ (–æ—Ç `RATE_MIN` –¥–æ `RATE_MIN + 0.9` —Å–µ–∫—É–Ω–¥ –¥–ª—è `afisha.ru`, `API_COOLDOWN` –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö API) –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.
    *   –ú–µ—Ö–∞–Ω–∏–∑–º `robust_get()` —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ (–¥–æ 10 —Ä–∞–∑) —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ HTTP-–æ—Ç–≤–µ—Ç–∞ 429 (Too Many Requests), –∞ —Ç–∞–∫–∂–µ –ø—Ä–∏ –¥—Ä—É–≥–∏—Ö –æ—à–∏–±–∫–∞—Ö.
*   **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–∞–Ω–Ω—ã—Ö:** –í—Å–µ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–∞–∫ `Optional`, –∏ –∫–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏ –∏—Ö –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –Ω–µ—Ç —Ç—Ä–µ–π–ª–µ—Ä–∞, –ø–æ—Å—Ç–µ—Ä–∞, —Ä–µ–π—Ç–∏–Ω–≥–∞).
*   **–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —Å–∞–π—Ç–∞:**
    *   –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –ø–∞—Ä—Å–∏–Ω–≥–∞ (CSS-—Å–µ–ª–µ–∫—Ç–æ—Ä—ã, —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è) –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∫–ª—é—á–µ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (—Å—Ç—Ä–∞–Ω–∞, –≤–æ–∑—Ä–∞—Å—Ç–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, –¥–∞—Ç–∞ —Å–µ–∞–Ω—Å–∞), —á—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –Ω–µ–±–æ–ª—å—à–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏—è–º –≤ HTML-—Ä–∞–∑–º–µ—Ç–∫–µ.
    *   –ù–∞–ø—Ä–∏–º–µ—Ä, `parse_country_new()`, `parse_age_new()`, `parse_desc_new()`, `parse_first_day_new()` —Å–æ–¥–µ—Ä–∂–∞—Ç –ª–æ–≥–∏–∫—É –¥–ª—è –ø–æ–∏—Å–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏.
*   **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –î–∞–Ω–Ω—ã–µ –æ —Ñ–∏–ª—å–º–∞—Ö –∏ —Å–µ–∞–Ω—Å–∞—Ö –∫—ç—à–∏—Ä—É—é—Ç—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π SQLite –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —Å–≤–µ–∂–∏–µ (–≤ –ø—Ä–µ–¥–µ–ª–∞—Ö `CACHE_TTL_DAYS`), –æ–Ω–∏ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –∏–∑ –∫—ç—à–∞, —á—Ç–æ —É–º–µ–Ω—å—à–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —É—Å–∫–æ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç—É.
*   **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –∫–∞–ª–µ–Ω–¥–∞—Ä—è:** –ü—Ä–∞–≤–∏–ª–æ 30-–¥–Ω–µ–≤–Ω–æ–≥–æ –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —á–∏—Å—Ç–æ—Ç—É –∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.
*   **–û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö:** –°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `cleanup_old_data()` –≤ –∫–ª–∞—Å—Å–µ `Database`, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ —Å–µ–∞–Ω—Å—ã –∏ –∑–∞–ø–∏—Å–∏ –æ —Ñ–∏–ª—å–º–∞—Ö –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ–±—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –µ–µ —Ä–∞–∑–º–µ—Ä –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.
*   **–ü—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä:** –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ HTTP-–ø—Ä–æ–∫—Å–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `MOVIE_SCRAPER_PROXY_URL` –¥–ª—è –æ–±—Ö–æ–¥–∞ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–±–ª–µ–º —Å –¥–æ—Å—Ç—É–ø–æ–º.
*   **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API:** –ó–∞–ø—Ä–æ—Å—ã –∫ –≤–Ω–µ—à–Ω–∏–º API –≤–∫–ª—é—á–∞—é—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –∏ —Ç–∞–π–º–∞—É—Ç—ã, –∞ —Ç–∞–∫–∂–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ —Å–ª—É—á–∞–µ —Å–±–æ–µ–≤.
